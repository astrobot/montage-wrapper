<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	  <head>
	    <title>Montage User Documentation</title>
	    
<link rel="stylesheet" type="text/css" media="screen,projection" href="/style.css" />

</head>

<body>
<div id="container">

<div id="montage-banner">
<img src="/images/MontageBanner.jpg" width="796" height="128" border="0" alt="" usemap="#MontageBanner_Map" />
<map name="MontageBanner_Map">
<area shape="rect" alt="" coords="713,77,767,127" href="http://ct.gsfc.nasa.gov" />
<area shape="rect" alt="" coords="687,21,789,69" href="http://irsa.ipac.caltech.edu" />
<area shape="rect" alt="" coords="0,0,123,128" href="http://montage.ipac.caltech.edu" />
</map>
<!-- End ImageReady Slices -->
</div>
<div id="nav">
    <ul>
    <li><a href="/">Home</a></li>
    <li><a href="http://hachi.ipac.caltech.edu:8080/montage">On-Request Mosaics</a></li>
    <li><a href="/docs/download.html">Download</a></li>
    <li><a href="/docs/">Documentation</a></li>
    <li><a href="/applications.html">Applications</a></li>
    <li><a href="/publications.html">Publications</a></li>
    <li><a href="http://irsa.ipac.caltech.edu/cgi-bin/Helpdesk/nph-genTicketForm?projname=Montage&projmail=montage@ipac.caltech.edu">Helpdesk</a></li>
  </ul>
</div>

<div id="content">

<div id="wrapper">
<h1>mDiffExec</h1>

<div id="usage">
<a name="usage"></a>

<dl class="description">
  <dt>Description:</dt>
  <dd>Runs <span class="file">mDiff</span> on all the pairs identified by <span class="file">mOverlaps.</span></dd>
</dl>

<dl class="syntax">
  <dt>Syntax:</dt>
  <dd>mDiffExec [-p <i>projdir</i>] [-d] [-n(o-areas)] [-s <i>statusfile</i>] <b>diffs.tbl template.hdr diffdir</b></dd>
</dl>

<p class="dochead">Switches:</p>
<dl class="args">
  <dt>-p <i>projdir</i></dt>
  <dd>Specifies path to the directory containing reprojected input images.</dd>
  <dt>-d</dt>
  <dd>Turns on debugging.</dd>
  <dt>-n</dt>
  <dd>No-area-images flag. Creates difference image without requiring <span class="file">_area</span> FITS images</dd>
  <dt>-s <i>statusfile</i></dt>
  <dd>Output and errors are sent to <i>statusfile</i> instead of to stdout</dd>
</dl>

<p class="dochead">Arguments:</p>
<dl class="args">
  <dt>diffs.tbl</dt>
  <dd>Table generated by <span class="file">mOverlaps for the images in <span class="file">projdir</span>.</dd>
  <dt>template.hdr</dt>
  <dd>FITS header template for output files.</dd>
  <dt>diffdir</dt>
  <dd>Path to output files.</dd>
</dl>

<dl class="description">
<dt>Results:</dt>
<dd>FITS images representing the differences for each pair of overlapping images.  <i>nimages</i> is the total number of images succesfully processed, and <i>nfailed</i> is the number of images that failed.  The most likely cause of failure is that the FITS images overlapped, but only in areas where they contained blank pixels (especially common in images with large degree of rotation). </dd>
</dl>

<p class="dochead">Examples:</p>

<p>First, <a href="examples/mDiffExec/diffs.tbl">diffs.tbl</a> is generated using mOverlaps.  Then mDiff can be run on reprojected images, using this <a href="examples/mDiffExec/template.hdr">template.hdr</a>.</p>

<dl class="example">
  <dt>$ mDiffExec -n -p projdir projdir/diffs.tbl template.hdr diffdir</dt>
  <dd>[struct stat="OK", count=42, failed=0]</dd>
</dl>

<p class="dochead">Return Codes:</p>
<ul class="returncodes">
  <li>[struct stat="OK", count=<i>nimages</i>, failed=<i>nfailed</i>]</li>   
  <li>[struct stat="ERROR", msg="Usage: mDiffExec [-p projdir] [-d] [-n(o-areas)] [-s statusfile] diffs.tbl template.hdr diffdir"]</li>   
  <li>[struct stat="ERROR", msg="MPI initialization failed"]</li>
  <li>[struct stat="ERROR", msg="Cannot open status file: <i>statusfile</i>"]</li>   
  <li>[struct stat="ERROR", msg="Cannot access <i>diffdir</i>"]</li>   
  <li>[struct stat="ERROR", msg="<i>diffdir</i> is not a directory"]</li>   
  <li>[struct stat="ERROR", msg="Invalid image metadata file: <i>filename</i>"]</li>   
  <li>[struct stat="ERROR", msg="Need columns: cntr1 cntr2 plus minus diff"] <span class="explanation">(columns missing from differences table)</span></li>   
  <li>[struct stat="ERROR", msg="<i>mDiff error</i>"]</li>   
</ul>


</div></div>

</div> <!-- end #content -->

<div id="footer">

<p class="foot-just"><i>If your research uses Montage, please include the following acknowledgement: </i>"This research made use of Montage, funded by the National Aeronautics and Space Administration's Earth Science Technology Office, Computation Technologies Project, under Cooperative Agreement Number NCC5-626 between NASA and the California Institute of Technology.  Montage is maintained by the NASA/IPAC Infrared Science Archive."</p>
<p class="foot-unjust">The Montage distribution includes an adaptation of the MOPEX algorithm developed at the Spitzer Science Center.</p>
<!-- ImageReady Slices (logobar.psd) -->
<div align="center">
<img src="/images/logobar.jpg" border="0" alt="" usemap="#logobar_Map" />
<map name="logobar_Map">
<area shape="poly" alt="" coords="185,46, 203,21, 255,3, 345,2, 409,35, 410,56, 403,71, 354,98, 301,103, 221,91, 187,64" href="/" />
<area shape="rect" alt="" coords="379,96,475,161" href="http://www.cct.lsu.edu" />
<area shape="rect" alt="" coords="95,14,179,91" href="http://www.caltech.edu" />
<area shape="rect" alt="" coords="424,13,499,82" href="http://www.nasa.gov" />
<area shape="rect" alt="" coords="1,33,90,66" href="http://jpl.nasa.gov" />
<area shape="rect" alt="" coords="150,106,234,148" href="http://www.ipac.caltech.edu" />
<area shape="rect" alt="" coords="265,106,337,181" href="http://www.cacr.caltech.edu" />
<area shape="rect" alt="" coords="512,31,611,79" href="http://us-vo.org" />
</map>
</div>
<!-- End ImageReady Slices -->
</div>
</div> <!-- end #container-->
</body>
</html>

